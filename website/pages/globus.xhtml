<!--
  ~ Copyright (c) 2003-2018 Regents of the University of California and Broad Institute. All rights reserved.  
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk">
   
   
    <t:div rendered="#{not userPrefsBean.globusLinked}">
              No Globus Identity has been linked to this account.<br/>
              <br/>
              <h:outputLink
                value="#{facesContext.externalContext.requestContextPath}/oauthglobus">Sign on and link your Globus account</h:outputLink>
              <br/>You may also use this link to sign in with Google, ORC-Id or institutional (for many universities) credentials via Globus.<br/><br/>
           
              Clicking on the Globus button on the files tab will automatically direct you to a globus login if you have not linked your account. 
   </t:div>
   
   <t:div rendered="#{userPrefsBean.globusLinked}">
    
   <h:form onsubmit="return validateForm(this);" id="globusForm">
       
        <table  border="0" cellpadding="5" cellspacing="0">
            <tr valign="top">
                <td>Globus Preferred Identity:</td>
                <td>#{userPrefsBean.globusUserIdentity}</td>
            </tr>
             <tr valign="top">
                <td>Globus Email:</td>
                <td>#{userPrefsBean.globusUserEmail}</td>
            </tr>
            <tr valign="top">
                <td>Globus Identity Provider:</td>
                <td>#{userPrefsBean.globusIdentityProviderName} (#{userPrefsBean.globusIdentityProviderId})</td>
            </tr>
             
            </table>
            
        
        <h:commandButton value="Clear globus association" action="#{userPrefsBean.clearGlobus}" />
    </h:form>
    <table width="100%" border="0" cellpadding="5" cellspacing="0">
        
        <tr valign="top">
            <td>&#160;</td>
            <td>Clears the current Globus identity association. <br />
                After clearing (and logging your browser out of Globus itself) you may 
                associate a <br />
                different Globus identity with your GenePattern account.
            </td>
        </tr>
    </table>
    
    </t:div>
    
</html>
